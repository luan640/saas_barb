<table class="table table-hover align-middle">
  <thead>
    <tr>
      <th>Usuário (e-mail)</th>
      <th>Loja</th>
      <th>Função</th>
      <th>Status</th>
      <th class="text-end">Ações</th>
    </tr>
  </thead>
  <tbody>
    {% for m in memberships %}
      <tr>
        <td>
          {{ m.staff.full_name|default:m.staff.user.email }}
          <div class="text-muted small">{{ m.staff.user.email }}</div>
        </td>
        <td>{{ m.shop.name }}</td>
        <td>{{ m.get_role_display }}</td>
        <td>
          {% if m.is_active %}
            <span class="badge bg-success">Ativo</span>
          {% else %}
            <span class="badge bg-secondary">Inativo</span>
          {% endif %}
        </td>
        <td class="text-end">
          <a class="btn btn-sm btn-outline-secondary"
             hx-get="{% url 'cadastros:membership_update' m.pk %}{% if request.session.current_shop_id %}?shop={{ request.session.current_shop_id }}{% endif %}"
             hx-target="#appModalContent"
             hx-swap="innerHTML">
            Editar
          </a>
          <a class="btn btn-sm btn-outline-danger"
             hx-get="{% url 'cadastros:membership_delete' m.pk %}{% if request.session.current_shop_id %}?shop={{ request.session.current_shop_id }}{% endif %}"
             hx-target="#appModalContent"
             hx-swap="innerHTML">
            Excluir
          </a>
        </td>
      </tr>
    {% empty %}
      <tr>
        <td colspan="5" class="text-center text-muted py-4">
          Nenhum membro encontrado.
        </td>
      </tr>
    {% endfor %}
  </tbody>
</table>
